2001-12-15  Werner Koch  <wk@gnupg.org>

	* gpgsm.c (main): Renamed the default key database to "keyring.kbx".

	* decrypt.c (gpgsm_decrypt): Write STATUS_DECRYPTION_*.
	* sign.c (gpgsm_sign): Write a STATUS_SIG_CREATED.

2001-12-14  Werner Koch  <wk@gnupg.org>

	* keylist.c (list_cert_colon): Kludge to show an email address
	encoded in the subject's DN.

	* verify.c (gpgsm_verify): Add hash debug helpers
	* sign.c (gpgsm_sign): Ditto.

	* base64.c (base64_reader_cb): Reset the linelen when we need to
	skip the line and adjusted test; I somehow forgot about DeMorgan.

	* server.c (cmd_encrypt,cmd_decrypt,cmd_sign,cmd_verify) 
	(cmd_import): Close the FDs on success.
	(close_message_fd): New.
	(input_notify): Setting autodetect_encoding to 0 after initializing
	it to 0 is pretty pointless.  Easy to fix.

	* gpgsm.c (main): New option --debug-wait n, so that it is
	possible to attach gdb when used in server mode.

	* sign.c (get_default_signer): Use keydb_classify_name here.

2001-12-14  Marcus Brinkmann  <marcus@g10code.de>

	* call-agent.c (LINELENGTH): Removed.
	(gpgsm_agent_pksign): Use ASSUAN_LINELENGTH, not LINELENGTH.
	(gpgsm_agent_pkdecrypt): Likewise.

2001-12-13  Werner Koch  <wk@gnupg.org>

	* keylist.c (list_cert_colon): Print alternative names of subject
	and a few other values.

2001-12-12  Werner Koch  <wk@gnupg.org>

	* gpgsm.c (main): New options --assume-{armor,base64,binary}. 
	* base64.c (base64_reader_cb): Fixed non-autodetection mode.

2001-12-04  Werner Koch  <wk@gnupg.org>

	* call-agent.c (read_from_agent): Check for inquire responses.
	(request_reply): Handle them using a new callback arg, changed all
	callers.
	(gpgsm_agent_pkdecrypt): New.

2001-11-27  Werner Koch  <wk@gnupg.org>

	* base64.c: New.  Changed all other functions to use this instead
	of direct creation of ksba_reader/writer.
	* gpgsm.c (main): Set ctrl.auto_encoding unless --no-armor is used.

2001-11-26  Werner Koch  <wk@gnupg.org>

	* gpgsm.c: New option --agent-program
	* call-agent.c (start_agent): Allow to override the default path
	to the agent.

	* keydb.c (keydb_add_resource): Create keybox

	* keylist.c (gpgsm_list_keys): Fixed non-server keylisting.

	* server.c (rc_to_assuan_status): New.  Use it for all commands.

	
 Copyright 2001 Free Software Foundation, Inc.

 This file is free software; as a special exception the author gives
 unlimited permission to copy and/or distribute it, with or without
 modifications, as long as this notice is preserved.

 This file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY, to the extent permitted by law; without even the
 implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
