2002-01-21  Werner Koch  <wk@gnupg.org>

	* keybox-search.c (keybox_search): Allow KEYDB_SEARCH_MODE_FPR20.

2002-01-15  Werner Koch  <wk@gnupg.org>

	* keybox-search.c (blob_cmp_fpr): New.
	(has_fingerprint): Implemented;

2001-12-20  Werner Koch  <wk@gnupg.org>

	* keybox-blob.c (_keybox_create_x509_blob): Skip the leading
	parenthesis of the serial number's S-exp.
	(_keybox_create_x509_blob): And fixed length calculation.
	(create_blob_header): Don't add an offset when writing the serial.

2001-12-18  Werner Koch  <wk@gnupg.org>

	* Makefile.am (AM_CPPFLAGS): Add flags for libksba

	* keybox-blob.c (_keybox_create_x509_blob): Use
	gcry_sexp_canon_len to get the length of the serial number.
	(_keybox_release_blob): Need to use a new serialbuf to free the memory.

2001-12-17  Werner Koch  <wk@gnupg.org>

	* keybox-search.c: Changed the way the serial number is
	represented.

2001-12-15  Werner Koch  <wk@gnupg.org>

	* keybox-search.c (blob_cmp_name): There is no terminating 0 stored
	for the uid; fixed length compare.

2001-12-14  Werner Koch  <wk@gnupg.org>

	* keybox-blob.c (x509_email_kludge): New.
	(_keybox_create_x509_blob): Insert an extra email address if the
	subject's DN has an email part.
	* keybox-defs.h: Added the xtoi_2 and digitp macros.

2001-12-13  Werner Koch  <wk@gnupg.org>

	* keybox-search.c (blob_cmp_name): Kludge to allow searching for
	more than one name.
	(has_subject_or_alt): New.
	(blob_cmp_mail): New.
	(has_mail): New.
	(keybox_search): Implemented exact search and exact mail search.

	* kbx/keybox-blob.c (_keybox_create_x509_blob): Insert alternate
	names.


 Copyright 2001 g10 Code GmbH

 This file is free software; as a special exception the author gives
 unlimited permission to copy and/or distribute it, with or without
 modifications, as long as this notice is preserved.

 This file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY, to the extent permitted by law; without even the
 implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
	