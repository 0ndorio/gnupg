2004-02-26  Marcus Brinkmann  <marcus@g10code.de>

	* README.gpgconf (NAME): Add info about optional arg and arg type 0.
	* gpgconf-comp.c (gc_component_change_options): Parse list of
	arg type 0 options.
	(option_check_validity): Add new argument NEW_VALUE_NR.  Perform
	rigorous validity checks.
	(change_options_program): Disable an option also if we have a new
	value for it.

2004-02-25  Marcus Brinkmann  <marcus@g10code.de>

	* gpgconf-comp.c (gc_component_list_options): Correct output for
	lists of arg type none.
	(struct gc_option): Add new member new_flags.
	(option_check_validity): Check OPTION->new_flags beside
	OPTION->new_value.  Add new argument FLAGS.
	(gc_component_change_options): Support default flag correctly.
	(change_options_program): Likewise.

2004-02-24  Marcus Brinkmann  <marcus@g10code.de>

	* README.gpgconf: Revert last change.  Add new flags "default",
	"default desc" and "no arg desc".  Add new field ARGDEF.  Add new
	field FLAG to backend interface.
	* gpgconf-comp.c (struct gc_option): Make flags of type unsigned
	long.
	(gc_component_list_options): Adjust type for flags.
	Add default argument field.
	(retrieve_options_from_program): Use "1" as value for non-option
	arguments, not "Y".
	(gc_component_change_options): Read in flags from input.

2004-02-23  Marcus Brinkmann  <marcus@g10code.de>

	* README.gpgconf: Change meaning of type 0 options value if it is
	the empty string or "0".

	* gpgconf.h (struct): Add member runtime.
	* gpgconf.c: Add new option oRuntime.
	(main): Same here.

	* gpgconf-comp.c (hextobyte): New function.
	(percent_deescape): New function.
	(get_config_pathname): Percent deescape pathname if taken from
	option (default) value.  Use default value only if it exists and
	is not empty.  Use empty string otherwise.  Don't include leading
	quote in pathname.
	(change_options_program): Percent deescape string before writing
	it out.
	
	* gpgconf-comp.c (gc_component_list_options): Do not skip groups
	on output.

2004-02-18  Werner Koch  <wk@gnupg.org>

	* gpgconf-comp.c: Added empty components for gpgsm and scdaemon.

2004-02-12  Werner Koch  <wk@gnupg.org>

	* watchgnupg.c (main): Implement option "--".
	(print_version): New.

	* Makefile.am: Include cmacros.am for common flags.

2004-02-03  Werner Koch  <wk@gnupg.org>

	* addgnupghome: Try to use getent, so that it also works for NIS
	setups.

2004-01-31  Marcus Brinkmann  <marcus@g10code.de>

	* gpgconf-comp.c: Some bug fixes, parse only defaults from the
	program, and read the current values from the configuration file
	directly.

2004-01-30  Marcus Brinkmann  <marcus@g10code.de>

	* gpgconf-comp.c (gc_error): New function, use it instead of
	error() throughout.

	* gpgconf-comp.c: Use xmalloc, libcommon's asctimestamp and
	gnupg_get_time, fix error() invocation and use getline()
	consistently.
	
2004-01-30  Werner Koch  <wk@gnupg.org>

	* addgnupghome: Also set the group of copied files. 

2004-01-30  Werner Koch  <wk@gnupg.org>

	* Makefile.am (sbin_SCRIPTS): New, to install addgnupghome.
	(EXTRA_DIST): Added rfc822parse.c rfc822parse.h gpgparsemail.c
	which might be useful for debugging.

2004-01-29  Werner Koch  <wk@gnupg.org>

	* addgnupghome: New.

2004-01-29  Marcus Brinkmann  <marcus@g10code.de>

	* gpgconf-list.c: File removed.
	* README.gpgconf: New file.
	* gpgconf-comp.c: New file.
	* Makefile.am (gpgconf_SOURCES): Remove gpgconf-list.c, add
	gpgconf-comp.c.

2004-01-16  Werner Koch  <wk@gnupg.org>

	* watchgnupg.c (main): Need to use FD_ISSET for the client
	descriptors too; aiiih.  Set the listening socket to non-blocking.

2004-01-10  Werner Koch  <wk@gnupg.org>

	* Makefile.am: Use GPG_ERROR_CFLAGS
	
2004-01-05  Werner Koch  <wk@gnupg.org>

	* Manifest: New.
	* gpgconf.c, gpgconf.h, gpgconf-list.c: New. A skeleton for now.
	* no-libgcrypt.c: New.
	* Makefile.am: Add above.

2003-12-23  Werner Koch  <wk@gnupg.org>

	* Makefile.am: New.
	* watchgnupg.c: New.


 Copyright 2003, 2004 Free Software Foundation, Inc.

 This file is free software; as a special exception the author gives
 unlimited permission to copy and/or distribute it, with or without
 modifications, as long as this notice is preserved.

 This file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY, to the extent permitted by law; without even the
 implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
